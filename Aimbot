local RunService = game:GetService("RunService")
local Lighting = game:GetService("Lighting")
local Workspace = game:GetService("Workspace")
local Debris = game:GetService("Debris")
local Camera = Workspace.CurrentCamera
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
do
	local playerGui = player:WaitForChild("PlayerGui")
	local transitionGui = Instance.new("ScreenGui")
	transitionGui.Name = "CinematicTransition"
	transitionGui.ResetOnSpawn = false
	transitionGui.IgnoreGuiInset = true -- removes top bar spacing
	transitionGui.Parent = playerGui
	local blackFrame = Instance.new("Frame")
	blackFrame.Size = UDim2.new(1,0,1,0)
	blackFrame.Position = UDim2.new(0,0,0,0)
	blackFrame.BackgroundColor3 = Color3.new(0,0,0)
	blackFrame.BackgroundTransparency = 0 -- start fully black
	blackFrame.BorderSizePixel = 0
	blackFrame.Parent = transitionGui
	-- Optional cinematic letterbox bars
	local topBar = Instance.new("Frame")
	topBar.Size = UDim2.new(1,0,0.1,0)
	topBar.Position = UDim2.new(0,0,0,0)
	topBar.BackgroundColor3 = Color3.new(0,0,0)
	topBar.BorderSizePixel = 0
	topBar.BackgroundTransparency = 0
	topBar.Parent = transitionGui
	local bottomBar = Instance.new("Frame")
	bottomBar.Size = UDim2.new(1,0,0.1,0)
	bottomBar.Position = UDim2.new(0,0,0.9,0)
	bottomBar.BackgroundColor3 = Color3.new(0,0,0)
	bottomBar.BorderSizePixel = 0
	bottomBar.BackgroundTransparency = 0
	bottomBar.Parent = transitionGui
	local tweenInfo = TweenInfo.new(1.8, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut)
	local fadeOut = TweenService:Create(blackFrame, tweenInfo, {BackgroundTransparency = 1})
	local topFadeOut = TweenService:Create(topBar, tweenInfo, {BackgroundTransparency = 1})
	local bottomFadeOut = TweenService:Create(bottomBar, tweenInfo, {BackgroundTransparency = 1})
	-- Run RTX while black
	coroutine.wrap(function()
		wait(0.1) -- small delay to ensure GUI renders
		-- START THE V6 RTX SCRIPT HERE
		-- (the rest of your RTX script will execute while screen is black)
	end)()
	-- Fade out transition
	fadeOut:Play()
	topFadeOut:Play()
	bottomFadeOut:Play()
	-- Destroy GUI after fade completes
	delay(tweenInfo.Time + 0.1, function()
		transitionGui:Destroy()
	end)
end
for _,v in pairs(Lighting:GetChildren()) do
	if v:IsA("PostEffect") or v:IsA("Atmosphere") then
		v:Destroy()
	end
end
Lighting.Technology = Enum.Technology.Future
Lighting.GlobalShadows = true
Lighting.ShadowSoftness = 0.95
Lighting.Brightness = 3.6
Lighting.ClockTime = 14.4
Lighting.ExposureCompensation = 0.28
Lighting.EnvironmentDiffuseScale = 1
Lighting.EnvironmentSpecularScale = 1
Lighting.OutdoorAmbient = Color3.fromRGB(90,90,90)
Lighting.Ambient = Color3.fromRGB(50,50,50)
local Bloom = Instance.new("BloomEffect", Lighting)
Bloom.Intensity = 4
Bloom.Size = 130
Bloom.Threshold = 0.65
local ColorCorrection = Instance.new("ColorCorrectionEffect", Lighting)
ColorCorrection.Contrast = 0.62
ColorCorrection.Saturation = 0.35
ColorCorrection.Brightness = 0.05
ColorCorrection.TintColor = Color3.fromRGB(255,245,230)
local SunRays = Instance.new("SunRaysEffect", Lighting)
SunRays.Intensity = 0.45
SunRays.Spread = 0.98
local Blur = Instance.new("BlurEffect", Lighting)
Blur.Size = 1.8
local Sky = Instance.new("Sky")
Sky.SkyboxUp = "rbxassetid://153376888"
Sky.SkyboxDn = "rbxassetid://153376888"
Sky.SkyboxLf = "rbxassetid://153376888"
Sky.SkyboxRt = "rbxassetid://153376888"
Sky.SkyboxFt = "rbxassetid://153376888"
Sky.SkyboxBk = "rbxassetid://153376888"
Sky.Parent = Lighting
local Sun = Instance.new("DirectionalLight", Workspace)
Sun.Brightness = 5.2
Sun.ShadowSoftness = 0.94
Sun.Color = Color3.fromRGB(255,242,220)
Sun.CastsShadow = true
local sunAngle = 0
RunService.RenderStepped:Connect(function()
	sunAngle += 0.007
	local angleX = math.sin(sunAngle)*math.rad(15)
	local angleY = math.rad(45)
	Sun.CFrame = CFrame.Angles(angleX,angleY,0)
	-- adaptive color grading
	local timeTint = 0.7 + math.sin(sunAngle)*0.3
	ColorCorrection.TintColor = Color3.fromRGB(255, 245 * timeTint, 220)
	ColorCorrection.Contrast = 0.55 + math.sin(sunAngle)*0.06
	ColorCorrection.Saturation = 0.32 + math.sin(sunAngle)*0.03
end)
local function UpdateDynamicReflections()
	local t = tick()
	for _,part in ipairs(Workspace:GetDescendants()) do
		if part:IsA("BasePart") then
			local baseReflect = 0.08 + math.sin(t*0.5 + part.Position.X*0.08)*0.12
			part.Reflectance = math.clamp(baseReflect,0,0.35)
			part.CFrame = part.CFrame * CFrame.new(
				math.sin(t*0.12 + part.Position.X*0.03)*0.001,
				math.sin(t*0.15 + part.Position.Y*0.03)*0.001,
				math.sin(t*0.13 + part.Position.Z*0.03)*0.001
			)
		end
	end
end
RunService.Heartbeat:Connect(UpdateDynamicReflections)
local DebrisFolder = Instance.new("Folder", Workspace)
DebrisFolder.Name = "CinematicDebris"
local function SpawnCinematicDebris()
	for i=1,35 do
		local part = Instance.new("Part")
		part.Size = Vector3.new(0.05,0.05,0.05)
		part.Anchored = false
		part.CanCollide = true
		part.Material = Enum.Material.SmoothPlastic
		part.Color = Color3.fromRGB(240,240,240)
		part.Transparency = 0.7
		part.CFrame = Camera.CFrame * CFrame.new(
			math.random(-50,50)/10,
			math.random(-20,20)/10,
			math.random(-50,50)/10
		)
		part.Velocity = Vector3.new(math.random(-6,6)/5,math.random(-6,6)/5,math.random(-6,6)/5)
		part.RotVelocity = Vector3.new(math.random(),math.random(),math.random())*2
		part.Parent = DebrisFolder
		Debris:AddItem(part,6)
	end
end
RunService.Heartbeat:Connect(SpawnCinematicDebris)
local camTimer = 0
RunService.RenderStepped:Connect(function(dt)
	camTimer += dt
	Camera.FieldOfView = 70 + math.sin(tick()*0.85)*0.12
	local roll = math.sin(tick()*0.3)*0.004
	local pitch = math.cos(tick()*0.25)*0.004
	local yaw = math.sin(tick()*0.2)*0.003
	Camera.CFrame = Camera.CFrame * CFrame.Angles(pitch, yaw, roll)
end)
local flarePart = Instance.new("Part", Workspace)
flarePart.Size = Vector3.new(1,1,1)
flarePart.Transparency = 1
flarePart.Anchored = true
flarePart.CanCollide = false
flarePart.Position = Camera.CFrame.Position + Vector3.new(0,50,0)
local flare = Instance.new("ParticleEmitter", flarePart)
flare.Texture = "rbxassetid://4805638932"
flare.Rate = 25
flare.Lifetime = NumberRange.new(2)
flare.Speed = NumberRange.new(0)
flare.Size = NumberSequence.new(2.4)
flare.Transparency = NumberSequence.new(0.5)
flare.LightEmission = 1
RunService.RenderStepped:Connect(function()
	flarePart.Position = Camera.CFrame.Position + Vector3.new(0,50,0)
end)